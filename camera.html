<script class="toDel" src="jquery-3.6.0.js"></script>
<script class="toDel">
    let streamRef
    
    function main(){
      if(navigator.mediaDevices && navigator.mediaDevices.getUserMedia){
        navigator.mediaDevices.getUserMedia({
          video: { facingMode: "environment", }
        }).then(stream => {
            streamRef = stream
          const vidFrame = $("#videoFrame")[ 0 ]
          vidFrame.srcObject = stream
          vidFrame.play()
        })
      }
    }
    
    var isTorchOn = false
    function toggleTorch(){
        isTorchOn = !isTorchOn
         
      const track = streamRef.getVideoTracks()[0];
      track.applyConstraints({
        advanced: [{torch: isTorchOn}],
      });
    }
</script>

<body>
    <video autoplay id="videoFrame"></video>
  <button onclick="toggleTorch()">toggle torch</button>
</body>
  
<script>
  main()
</script>
